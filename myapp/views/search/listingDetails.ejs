<!DOCTYPE html>
 <html lang="en">
  <head>
        <% include ../partials/head %>
  </head>

  <body>
        <header>
                <% include ../partials/header %>
        </header>

        <div class="container text-center">
                <div class="row">
                        <div class="col-sm-12">
                                <h1> San Francisco State University</h1>
                                <p> Software Engineering CSC 648 </p>
                                <p> Fall 2017</p>
                                <p> Section 02 - Team 02</p>
			</div>
               </div>
	</div>

	       <div class="col-sm-4 col-xs-4 col-md-4 col-lg-4">

<!-- get address in this form 1600 Holloway Avenue, San Francisco 94132 CA' and get id=address -->
                                   <br>
                <% for (var i = 0; i < data.length; i++) { %>
                <div class="row">
                        <hr>
                                 <div class="col-sm-3 col-xs-3 col-md-3 col-lg-3">
                                    <p name="address" id="address"> <b> Address: </b> <%= data[i].Address %>, <%= data[i].City %>, <%= data[i].State %>, <%= data[i].Zip %> </p>
                                 </div>
                </div>
                <% } %>

                <% if (data.length== 0) { %>
                        <div class="text-center col-sm-12 col-xs-12 col-md-12 col-lg-12">
                               <b> Invalid Search </b> <br>
				<b> SFSU - Default Location </b>
                        </div>
                <% } %>

	    </div>

	       <div id="map"></div>

<!-- Google Map API Key= AIzaSyAi5ztmDz8Plo3g-yo4Yb8JahY8BS-xubM -->

<script>
function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 10,
          center: {lat: 37.7219, lng: -122.4782}
        });
        var geocoder = new google.maps.Geocoder();
      }

      function geocodeAddress(geocoder, resultsMap) {
        var address = document.getElementById('address').value;
//        var address = data[i].Address + ' , ' + data[i].City + ' , ' + data[i].State + ' , ' + data[i].Zip;
        geocoder.geocode({'address': address}, function(results, status) {
          if (status === 'OK') {
            resultsMap.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: resultsMap,
              position: results[0].geometry.location
            });
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
          }
        });
      }

</script>

<!--
    <script>

      function initMap() {
        var uluru = {lat:37.7749, lng:-122.4194};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 8,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
      }	
    </script>
-->
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAi5ztmDz8Plo3g-yo4Yb8JahY8BS-xubM&callback=initMap">
    </script>

    <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>

            <div id=footer>
                        <% include ../partials/footer %>
                </div>

         <% include ../partials/style %>
         <% include ../partials/plugins %>
   </body>
</html>

